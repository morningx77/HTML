import os
import re

# 현재 폴더의 모든 HTML 파일 수집
html_files = sorted([f for f in os.listdir('.') if f.endswith('.html') and f != 'index.html'])

# JavaScript 배열 문자열 생성
files_string = ',\n            '.join([f"'{f}'" for f in html_files])

# index.html 읽기
with open('index.html', 'r', encoding='utf-8') as f:
    content = f.read()

# 배열 부분만 교체
pattern = r'const htmlFiles = \[(.*?)\];'
replacement = f'const htmlFiles = [\n            {files_string}\n        ];'
new_content = re.sub(pattern, replacement, content, flags=re.DOTALL)

# 저장
with open('index.html', 'w', encoding='utf-8') as f:
    f.write(new_content)

print(f'✅ {len(html_files)}개 파일 자동 업데이트 완료!')
